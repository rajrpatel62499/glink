<div id="product" class="page-layout carded fullwidth inner-scroll">
  <div class="top-bg accent"></div>
  <!-- CENTER -->
  <div class="center">
    <div class="header" fxLayout="row" fxLayoutAlign="space-between center">
      <div fxLayout="row" fxLayoutAlign="start center">
        <div
          fxLayout="column"
          fxLayoutAlign="start start"
          [@animate]="{ value: '*', params: { delay: '100ms', x: '-25px' } }"
        >
          <div class="h2" *ngIf="pageType === 'new'" translate>SUPERVISOR.NEW_SUPERVISOR</div>
          <div class="subtitle secondary-text">
            <span translate>COMMON.SUPERVISOR</span>
          </div>
        </div>
      </div>
    </div>
    <div class="horizontal-stepper-wrapper">
      <mat-horizontal-stepper class="mat-elevation-z4" [linear]="true" #stepper>
        <mat-step [stepControl]="horizontalStepperStep1">
          <form fxLayout="column" [formGroup]="horizontalStepperStep1">
            <ng-template matStepLabel
              ><span translate>COMMON.FILL_BASIC_INFORMATION</span></ng-template
            >
            <div *ngIf="!!error" class="dates" fxLayout="column" fxLayout.gt-xs="row">
              <span
                appearance="outline"
                floatLabel="always"
                class="w-100-p"
                class="h-100-p warn-600"
                >Oooops! Something went wrong. Please try again later</span
              >
              <br />
              <span class="h-100-p warn-600">{{ error | json }}</span>
            </div>
            <br />
            <!-- <div class="dates" fxLayout="column" fxLayout.gt-xs="row">
              <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                <mat-label>Nom d'utilisateur</mat-label>
                <input matInput formControlName="username" required />
                <mat-icon matSuffix class="secondary-text">account_circle</mat-icon>
                <mat-error> Username is required </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                <mat-label>Mot de passe</mat-label>
                <input matInput type="password" formControlName="password" required />
                <mat-icon matSuffix class="secondary-text">vpn_key</mat-icon>
                <mat-error> Password is required </mat-error>
              </mat-form-field>
            </div> -->

            <div class="dates" fxLayout="column" fxLayout.gt-xs="row">
              <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                <mat-label translate>COMMON.FIRST_NAME</mat-label>
                <input matInput formControlName="first" required />
                <mat-icon matSuffix class="secondary-text">info</mat-icon>
                <mat-error translate> COMMON.FIRST_ERR </mat-error>
              </mat-form-field>

              <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                <mat-label translate>COMMON.LAST_NAME</mat-label>
                <input matInput formControlName="last" />
                <mat-icon matSuffix class="secondary-text">info</mat-icon>
                <mat-error translate> COMMON.LAST_ERR </mat-error>
              </mat-form-field>
            </div>

            <!-- <div class="dates" fxLayout="column" fxLayout.gt-xs="row">
              <mat-form-field appearance="outline" floatLabel="always" class="w-100-p">
                <mat-label>Numéro de série de l’appareil (optionnel)</mat-label>
                <input matInput formControlName="deviceSerialNumber" />
                <mat-icon matSuffix class="secondary-text">info</mat-icon>
                <mat-error> Device serial number is required </mat-error>
              </mat-form-field>
            </div> -->
            <div fxLayout="row" fxLayoutAlign="center center">
              <button mat-raised-button matStepperNext type="button" color="accent">
                <span translate>COMMON.NEXT</span>
              </button>
            </div>
          </form>
        </mat-step>

        <mat-step>
          <ng-template matStepLabel><span translate>COMMON.COMPLETED</span></ng-template>

          <div
            *ngIf="!success"
            class="h2 m-16"
            fxLayout="row"
            fxLayoutAlign="center center"
            translate
          >
            COMMON.CREATE_MSG
          </div>

          <div *ngIf="!!success" class="h2 m-16" fxLayout="row" fxLayoutAlign="center center">
            <span translate>COMMON.SUCCESS_MSG</span>
          </div>

          <div *ngIf="!!error" class="h2 m-16" fxLayout="row" fxLayoutAlign="center center">
            <span appearance="outline" floatLabel="always" class="w-100-p" class="h-100-p warn-600"
              >Oooops! Something went wrong. Please try again later</span
            >
            <br />
            <span class="h-100-p warn-600">{{ error | json }}</span>
          </div>

          <div *ngIf="!success" fxLayout="row" fxLayoutAlign="center center">
            <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
              <span translate>COMMON.PREVIOUS</span>
            </button>
            <button mat-raised-button type="button" color="accent" (click)="addUser()">
              <span translate>COMMON.CREATE</span>
            </button>
          </div>
          <div *ngIf="!!success" fxLayout="row" fxLayoutAlign="center center">
            <button
              mat-raised-button
              type="button"
              color="accent"
              (click)="stepper.reset(); reset()"
            >
              <span translate>COMMON.CREATE_ANOTHER</span>
            </button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </div>
  </div>
</div>
